{"ast":null,"code":"import _slicedToArray from\"C:/Users/Rafael/Documents/_Programa\\xE7\\xE3o/_GitHub/Alura-Projetos/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useContext}from'react';import{SelecionarContext}from\"../Selecionar\";import{TarefasContext}from'../Tarefas';export var useCronometro=function useCronometro(){var _useContext=useContext(SelecionarContext),selecionar=_useContext.selecionar,setSelecionar=_useContext.setSelecionar;var _useContext2=useContext(TarefasContext),setTarefas=_useContext2.setTarefas;var _selecionar$time$spli=selecionar.time.split(':'),_selecionar$time$spli2=_slicedToArray(_selecionar$time$spli,3),$horas=_selecionar$time$spli2[0],$minutos=_selecionar$time$spli2[1],$segundos=_selecionar$time$spli2[2];var horas=parseInt($horas);var minutos=parseInt($minutos);var segundos=parseInt($segundos);function temposegundos(){var tempo=horas*3600+minutos*60+segundos;return tempo;}function cronometrar(){var tempo=temposegundos();var thoras=horas;var tminutos=minutos;var tsegundos=segundos;var $selecionar=selecionar;var intervalo=setInterval(function(){var $id=selecionar.id;var $name=selecionar.name;var temporizar=function temporizar(){if(tsegundos!==0){tsegundos=tsegundos-1;}else if(tminutos!==0){tminutos=tminutos-1;tsegundos=59;}else{thoras=thoras-1;tminutos=59;tsegundos=59;}tempo=tempo-1;return\"\".concat(thoras.toString().length===1?'0'+thoras:thoras,\":\").concat(tminutos.toString().length===1?'0'+tminutos:tminutos,\":\").concat(tsegundos.toString().length===1?'0'+tsegundos:tsegundos);};setSelecionar({id:$id,name:$name,time:temporizar()});if(tempo===0){clearInterval(intervalo);setTarefas(function(tarefa){return tarefa.filter(function(obj){return obj!==$selecionar;});});alert('Tarefa Concluida');}},1000);}return{temposegundos:temposegundos,cronometrar:cronometrar};};","map":{"version":3,"names":["useContext","SelecionarContext","TarefasContext","useCronometro","selecionar","setSelecionar","setTarefas","time","split","$horas","$minutos","$segundos","horas","parseInt","minutos","segundos","temposegundos","tempo","cronometrar","thoras","tminutos","tsegundos","$selecionar","intervalo","setInterval","$id","id","$name","name","temporizar","toString","length","clearInterval","tarefa","filter","obj","alert"],"sources":["C:/Users/Rafael/Documents/_Programação/_GitHub/Alura-Projetos/src/Common/Cronometro/cronometro.tsx"],"sourcesContent":["import { useContext } from 'react'\r\nimport { SelecionarContext } from \"../Selecionar\"\r\nimport { TarefasContext } from '../Tarefas';\r\n\r\nexport const useCronometro = (): { temposegundos: () => number, cronometrar: () => void } => {\r\n\r\n    const { selecionar, setSelecionar } = useContext(SelecionarContext);\r\n    const {setTarefas} = useContext(TarefasContext);\r\n\r\n    const [$horas, $minutos, $segundos]: string[] = selecionar.time.split(':');\r\n    const horas = parseInt($horas); const minutos = parseInt($minutos); const segundos = parseInt($segundos);\r\n\r\n    function temposegundos(): number {\r\n        const tempo: number = horas * 3600 + minutos * 60 + segundos;\r\n        return tempo;\r\n    }\r\n\r\n    function cronometrar() {\r\n        let tempo = temposegundos();\r\n        let thoras = horas;\r\n        let tminutos = minutos;\r\n        let tsegundos = segundos;\r\n\r\n        const $selecionar = selecionar;\r\n\r\n        const intervalo = setInterval(() => {\r\n            const $id = selecionar.id\r\n            const $name = selecionar.name\r\n            const temporizar = (): string => {\r\n\r\n                if (tsegundos !== 0) {\r\n                    tsegundos = tsegundos - 1;\r\n                } else if (tminutos !== 0) {\r\n                    tminutos = tminutos - 1;\r\n                    tsegundos = 59;\r\n                } else {\r\n                    thoras = thoras - 1;\r\n                    tminutos = 59;\r\n                    tsegundos = 59;\r\n                }\r\n\r\n                tempo = tempo - 1\r\n\r\n                return `${thoras.toString().length === 1 ? '0' + thoras : thoras}:${tminutos.toString().length === 1 ? '0' + tminutos : tminutos}:${tsegundos.toString().length === 1 ? '0' + tsegundos : tsegundos}`\r\n            }\r\n\r\n            setSelecionar({ id: $id, name: $name, time: temporizar() })\r\n\r\n            if (tempo === 0) {\r\n                clearInterval(intervalo)\r\n                setTarefas(tarefa => {\r\n                    return tarefa.filter(obj => obj !== $selecionar)\r\n                })\r\n                alert('Tarefa Concluida')\r\n            }\r\n\r\n        }, 1000)\r\n\r\n    }\r\n\r\n    return { temposegundos, cronometrar }\r\n}"],"mappings":"yJAAA,OAASA,UAAU,KAAQ,OAAO,CAClC,OAASC,iBAAiB,KAAQ,eAAe,CACjD,OAASC,cAAc,KAAQ,YAAY,CAE3C,MAAO,IAAMC,cAAa,CAAG,QAAhBA,cAAa,EAAmE,CAEzF,gBAAsCH,UAAU,CAACC,iBAAiB,CAAC,CAA3DG,UAAU,aAAVA,UAAU,CAAEC,aAAa,aAAbA,aAAa,CACjC,iBAAqBL,UAAU,CAACE,cAAc,CAAC,CAAxCI,UAAU,cAAVA,UAAU,CAEjB,0BAAgDF,UAAU,CAACG,IAAI,CAACC,KAAK,CAAC,GAAG,CAAC,gEAAnEC,MAAM,2BAAEC,QAAQ,2BAAEC,SAAS,2BAClC,GAAMC,MAAK,CAAGC,QAAQ,CAACJ,MAAM,CAAC,CAAE,GAAMK,QAAO,CAAGD,QAAQ,CAACH,QAAQ,CAAC,CAAE,GAAMK,SAAQ,CAAGF,QAAQ,CAACF,SAAS,CAAC,CAExG,QAASK,cAAa,EAAW,CAC7B,GAAMC,MAAa,CAAGL,KAAK,CAAG,IAAI,CAAGE,OAAO,CAAG,EAAE,CAAGC,QAAQ,CAC5D,MAAOE,MAAK,CAChB,CAEA,QAASC,YAAW,EAAG,CACnB,GAAID,MAAK,CAAGD,aAAa,EAAE,CAC3B,GAAIG,OAAM,CAAGP,KAAK,CAClB,GAAIQ,SAAQ,CAAGN,OAAO,CACtB,GAAIO,UAAS,CAAGN,QAAQ,CAExB,GAAMO,YAAW,CAAGlB,UAAU,CAE9B,GAAMmB,UAAS,CAAGC,WAAW,CAAC,UAAM,CAChC,GAAMC,IAAG,CAAGrB,UAAU,CAACsB,EAAE,CACzB,GAAMC,MAAK,CAAGvB,UAAU,CAACwB,IAAI,CAC7B,GAAMC,WAAU,CAAG,QAAbA,WAAU,EAAiB,CAE7B,GAAIR,SAAS,GAAK,CAAC,CAAE,CACjBA,SAAS,CAAGA,SAAS,CAAG,CAAC,CAC7B,CAAC,IAAM,IAAID,QAAQ,GAAK,CAAC,CAAE,CACvBA,QAAQ,CAAGA,QAAQ,CAAG,CAAC,CACvBC,SAAS,CAAG,EAAE,CAClB,CAAC,IAAM,CACHF,MAAM,CAAGA,MAAM,CAAG,CAAC,CACnBC,QAAQ,CAAG,EAAE,CACbC,SAAS,CAAG,EAAE,CAClB,CAEAJ,KAAK,CAAGA,KAAK,CAAG,CAAC,CAEjB,gBAAUE,MAAM,CAACW,QAAQ,EAAE,CAACC,MAAM,GAAK,CAAC,CAAG,GAAG,CAAGZ,MAAM,CAAGA,MAAM,aAAIC,QAAQ,CAACU,QAAQ,EAAE,CAACC,MAAM,GAAK,CAAC,CAAG,GAAG,CAAGX,QAAQ,CAAGA,QAAQ,aAAIC,SAAS,CAACS,QAAQ,EAAE,CAACC,MAAM,GAAK,CAAC,CAAG,GAAG,CAAGV,SAAS,CAAGA,SAAS,EACvM,CAAC,CAEDhB,aAAa,CAAC,CAAEqB,EAAE,CAAED,GAAG,CAAEG,IAAI,CAAED,KAAK,CAAEpB,IAAI,CAAEsB,UAAU,EAAG,CAAC,CAAC,CAE3D,GAAIZ,KAAK,GAAK,CAAC,CAAE,CACbe,aAAa,CAACT,SAAS,CAAC,CACxBjB,UAAU,CAAC,SAAA2B,MAAM,CAAI,CACjB,MAAOA,OAAM,CAACC,MAAM,CAAC,SAAAC,GAAG,QAAIA,IAAG,GAAKb,WAAW,GAAC,CACpD,CAAC,CAAC,CACFc,KAAK,CAAC,kBAAkB,CAAC,CAC7B,CAEJ,CAAC,CAAE,IAAI,CAAC,CAEZ,CAEA,MAAO,CAAEpB,aAAa,CAAbA,aAAa,CAAEE,WAAW,CAAXA,WAAY,CAAC,CACzC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}